{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/HP/Downloads/Gigs/Zozo/Merchant dashboard/merchant dashboard/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/HP/Downloads/Gigs/Zozo/Merchant dashboard/merchant dashboard/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(createBidEvent),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(adminFetchBidEvent),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(approveBidEvent),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(rootSaga);\n\nimport axios from \"axios\";\nimport { all, call, put, takeEvery } from \"redux-saga/effects\";\nimport { API } from \"../API/Api\";\nimport { actionAdminFetchAuctionsSuccess, actionApproveEventSuccess, actionCreateBidEventSuccess, actionTypes } from \"./action\";\nvar config = {\n  headers: {\n    Authorization: \"Bearer \" + API.TOKEN\n  }\n};\n\nvar whoami = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var url, config, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = API.BASE_URL + \"/whoami\";\n            console.log(API.TOKEN);\n            config = {\n              headers: {\n                Authorization: \"Bearer \" + API.TOKEN\n              }\n            };\n            _context.next = 5;\n            return axios.get(url, config).then(function (res) {\n              return res.data;\n            });\n\n          case 5:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function whoami() {\n    return _ref.apply(this, arguments);\n  };\n}(); //POST CREAT BID EVENT\n\n\nvar sagaCreateBidEvent = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n    var url, config, data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"saga func\");\n            url = API.MERCHANT_MERCHANT_BASE_URL + \"/bidding\";\n            config = {\n              headers: {\n                Authorization: \"Bearer \" + API.TOKEN\n              }\n            };\n            data = axios.post(url, event, config).then(function (response) {\n              console.log(response.data);\n              return response.data;\n            });\n            return _context2.abrupt(\"return\", data);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function sagaCreateBidEvent(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}(); //GET MERCHANT BIDDING EVENT\n\n\nvar sagaAdminFetchBidEvent = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(status) {\n    var data, merchant, user, url, _url, _url2, eventStatus;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return whoami(API.TOKEN);\n\n          case 2:\n            merchant = _context3.sent;\n            user = merchant.merchantid;\n\n            if (status === \"pending\") {\n              url = API.MERCHANT_BASE_URL + \"/bidding/\" + user;\n              console.log(status);\n              data = axios.get(url, config).then(function (response) {\n                var pendingBids = response.data.bidding_event.filter(function (bid) {\n                  return bid.approved === false;\n                });\n                return pendingBids;\n              });\n            } else if (status === \"approved\") {\n              _url = API.MERCHANT_BASE_URL + \"/bidding/\" + user;\n              console.log(status);\n              data = axios.get(_url, config).then(function (response) {\n                console.log(response.data.bidding_event);\n                var approvedBids = response.data.bidding_event.filter(function (bid) {\n                  return bid.approved === true;\n                });\n                return approvedBids;\n              });\n            } else {\n              _url2 = API.MERCHANT_BASE_URL + \"/bidding/status\";\n              eventStatus = {\n                status: status\n              };\n              console.log(eventStatus);\n              data = axios.post(_url2, eventStatus, config).then(function (response) {\n                console.log(response.data);\n                return response.data.bidding_event;\n              });\n            }\n\n            return _context3.abrupt(\"return\", data);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function sagaAdminFetchBidEvent(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar sagaApproveBidEvent = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event_id) {\n    var url, config, data;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log(\"saga func\");\n            url = API.MERCHANT_BASE_URL + \"/bidding/approve/\" + event_id;\n            config = {\n              headers: {\n                Authorization: \"Bearer \" + API.TOKEN\n              }\n            };\n            console.log(url);\n            data = axios.post(url, event_id, config).then(function (response) {\n              console.log(response.data);\n              return response.data;\n            });\n            return _context4.abrupt(\"return\", data);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function sagaApproveBidEvent(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nfunction createBidEvent(payload) {\n  var isEventAdded;\n  return _regeneratorRuntime.wrap(function createBidEvent$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return call(sagaCreateBidEvent, payload.event);\n\n        case 3:\n          isEventAdded = _context5.sent;\n          _context5.next = 6;\n          return put(actionCreateBidEventSuccess(isEventAdded));\n\n        case 6:\n          _context5.next = 11;\n          break;\n\n        case 8:\n          _context5.prev = 8;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.log(_context5.t0);\n\n        case 11:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction adminFetchBidEvent(payload) {\n  var getAllBidEvent;\n  return _regeneratorRuntime.wrap(function adminFetchBidEvent$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return call(sagaAdminFetchBidEvent, payload.status);\n\n        case 3:\n          getAllBidEvent = _context6.sent;\n          console.log(getAllBidEvent);\n          _context6.next = 7;\n          return put(actionAdminFetchAuctionsSuccess(getAllBidEvent));\n\n        case 7:\n          _context6.next = 12;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.log(_context6.t0);\n\n        case 12:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked2, null, [[0, 9]]);\n}\n\nfunction approveBidEvent(payload) {\n  var isApproved;\n  return _regeneratorRuntime.wrap(function approveBidEvent$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return call(sagaApproveBidEvent, payload.event_id);\n\n        case 3:\n          isApproved = _context7.sent;\n          console.log(isApproved);\n          _context7.next = 7;\n          return put(actionApproveEventSuccess(isApproved));\n\n        case 7:\n          _context7.next = 12;\n          break;\n\n        case 9:\n          _context7.prev = 9;\n          _context7.t0 = _context7[\"catch\"](0);\n          console.log(_context7.t0);\n\n        case 12:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked3, null, [[0, 9]]);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return all([takeEvery(actionTypes.CREATE_BID_EVENT, createBidEvent)]);\n\n        case 2:\n          _context8.next = 4;\n          return all([takeEvery(actionTypes.ADMIN_FETCH_BID_EVENTS, adminFetchBidEvent)]);\n\n        case 4:\n          _context8.next = 6;\n          return all([takeEvery(actionTypes.APPROVE_BID_EVENT, approveBidEvent)]);\n\n        case 6:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked4);\n}","map":{"version":3,"sources":["C:/Users/HP/Downloads/Gigs/Zozo/Merchant dashboard/merchant dashboard/store/bid/saga.js"],"names":["createBidEvent","adminFetchBidEvent","approveBidEvent","rootSaga","axios","all","call","put","takeEvery","API","actionAdminFetchAuctionsSuccess","actionApproveEventSuccess","actionCreateBidEventSuccess","actionTypes","config","headers","Authorization","TOKEN","whoami","url","BASE_URL","console","log","get","then","res","data","sagaCreateBidEvent","event","MERCHANT_MERCHANT_BASE_URL","post","response","sagaAdminFetchBidEvent","status","merchant","user","merchantid","MERCHANT_BASE_URL","pendingBids","bidding_event","filter","bid","approved","approvedBids","eventStatus","sagaApproveBidEvent","event_id","payload","isEventAdded","getAllBidEvent","isApproved","CREATE_BID_EVENT","ADMIN_FETCH_BID_EVENTS","APPROVE_BID_EVENT"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { all, call, put, takeEvery } from \"redux-saga/effects\";\r\nimport { API } from \"../API/Api\";\r\nimport {\r\n\tactionAdminFetchAuctionsSuccess,\r\n\tactionApproveEventSuccess,\r\n\tactionCreateBidEventSuccess,\r\n\tactionTypes,\r\n} from \"./action\";\r\n\r\nconst config = {\r\n\theaders: {\r\n\t\tAuthorization: \"Bearer \" + API.TOKEN,\r\n\t},\r\n};\r\n\r\nconst whoami = async () => {\r\n\tconst url = API.BASE_URL+\"/whoami\";\r\n\tconsole.log(API.TOKEN)\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\tconst data = await axios.get(url, config).then((res) => {\r\n\t\treturn res.data;\r\n\t});\r\n\r\n\treturn data;\r\n};\r\n\r\n//POST CREAT BID EVENT\r\nconst sagaCreateBidEvent = async (event) => {\r\n\tconsole.log(\"saga func\");\r\n\tconst url = API.MERCHANT_MERCHANT_BASE_URL + \"/bidding\";\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\tconst data = axios.post(url, event, config).then((response) => {\r\n\t\tconsole.log(response.data);\r\n\t\treturn response.data;\r\n\t});\r\n\r\n\treturn data;\r\n};\r\n\r\n//GET MERCHANT BIDDING EVENT\r\nconst sagaAdminFetchBidEvent = async (status) => {\r\n\tlet data;\r\n\tconst merchant = await whoami(API.TOKEN);\r\n\tconst user =  merchant.merchantid\r\n\tif (status === \"pending\") {\r\n\t\tconst url = API.MERCHANT_BASE_URL + \"/bidding/\"+user;\r\n\r\n\t\tconsole.log(status);\r\n\t\tdata = axios.get(url, config).then((response) => {\r\n\t\t\tconst pendingBids = response.data.bidding_event.filter((bid) => {\r\n\t\t\t\treturn bid.approved === false;\r\n\t\t\t});\r\n\t\t\treturn pendingBids;\r\n\t\t});\r\n\t} else if (status === \"approved\") {\r\n\t\tconst url = API.MERCHANT_BASE_URL + \"/bidding/\"+user;\r\n\r\n\t\tconsole.log(status);\r\n\t\tdata = axios.get(url, config).then((response) => {\r\n\t\t\tconsole.log(response.data.bidding_event)\r\n\t\t\tconst approvedBids = response.data.bidding_event.filter((bid) => {\r\n\t\t\t\treturn bid.approved === true;\r\n\t\t\t});\r\n\t\t\treturn approvedBids;\r\n\t\t});\r\n\t} else {\r\n\t\tconst url = API.MERCHANT_BASE_URL + \"/bidding/status\";\r\n\r\n\t\tconst eventStatus = {\r\n\t\t\tstatus,\t\r\n\t\t};\r\n\r\n\t\tconsole.log(eventStatus);\r\n\t\tdata = axios.post(url, eventStatus, config).then((response) => {\r\n\t\t\tconsole.log(response.data);\r\n\t\t\treturn response.data.bidding_event;\r\n\t\t});\r\n\t}\r\n\r\n\treturn data;\r\n};\r\n\r\nconst sagaApproveBidEvent = async (event_id) => {\r\n\tconsole.log(\"saga func\");\r\n\tconst url = API.MERCHANT_BASE_URL + \"/bidding/approve/\" + event_id;\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer \" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\tconsole.log(url);\r\n\tconst data = axios.post(url, event_id, config).then((response) => {\r\n\t\tconsole.log(response.data);\r\n\t\treturn response.data;\r\n\t});\r\n\r\n\treturn data;\r\n};\r\n\r\nfunction* createBidEvent(payload) {\r\n\ttry {\r\n\t\tconst isEventAdded = yield call(sagaCreateBidEvent, payload.event);\r\n\t\tyield put(actionCreateBidEventSuccess(isEventAdded));\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n\r\nfunction* adminFetchBidEvent(payload) {\r\n\ttry {\r\n\t\tconst getAllBidEvent = yield call(sagaAdminFetchBidEvent, payload.status);\r\n\t\tconsole.log(getAllBidEvent)\r\n\t\tyield put(actionAdminFetchAuctionsSuccess(getAllBidEvent));\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n\r\nfunction* approveBidEvent(payload) {\r\n\ttry {\r\n\t\tconst isApproved = yield call(sagaApproveBidEvent, payload.event_id);\r\n\t\tconsole.log(isApproved);\r\n\t\tyield put(actionApproveEventSuccess(isApproved));\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n\r\nexport default function* rootSaga() {\r\n\tyield all([takeEvery(actionTypes.CREATE_BID_EVENT, createBidEvent)]);\r\n\tyield all([\r\n\t\ttakeEvery(actionTypes.ADMIN_FETCH_BID_EVENTS, adminFetchBidEvent),\r\n\t]);\r\n\tyield all([takeEvery(actionTypes.APPROVE_BID_EVENT, approveBidEvent)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}