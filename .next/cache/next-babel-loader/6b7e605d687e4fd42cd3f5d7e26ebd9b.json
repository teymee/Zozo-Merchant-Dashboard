{"ast":null,"code":"import { all, call, put, takeEvery } from \"redux-saga/effects\";\nimport { notification } from \"antd\";\nimport { actionTypes, actionGetAllCustomers, actionSuccessGetAllCustomers } from \"./action\";\nimport axios from \"axios\";\nimport { API } from \"../API/Api\"; // NEW\n\nconst config = {\n  headers: {\n    Authorization: \"Bearer\" + API.TOKEN\n  }\n}; //FETCH CATEGORIES\n\nconst sagaFetchCustomers = async () => {\n  const url = API.ADMIN_BASE_URL + \"/customer\";\n  const data = await axios.get(url, config).then(response => {\n    return response.data.customer;\n  }).catch(err => {\n    console.log(err + \"fetching Customers\");\n  });\n  return data;\n}; //UPGRADE CUSTOMER\n\n\nconst sagaUpgradeCustomer = async () => {\n  const url = API.BASE_URL + \"customer/upgrade\";\n  const data = await axios.post().then(() => {});\n}; // function* postCategory(payload) {\n// \ttry {\n// \t\tconst isCateAdded = yield call(sagaAddCategory, payload.category);\n// \t\tyield put(addCategorySuccess(isCateAdded));\n// \t} catch (err) {\n// \t\tconsole.log(err);\n// \t}\n// }\n\n\nfunction* getAllCustomers() {\n  try {\n    const Customers = yield call(sagaFetchCustomers);\n    yield put(actionSuccessGetAllCustomers(Customers));\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction* upgradeCustomer(payload) {\n  try {\n    const isUpgraded = yield call(sagaUpgradeCustomer, payload.customer_id);\n    yield put(actionUpgradeCustomerSuccess(isUpgraded));\n  } catch (err) {\n    console.log(err);\n  }\n} // function* deleteCategory(payload) {\n// \ttry {\n// \t\tconst isDeleted = yield call(sagaDeleteCategories, payload.id);\n// \t\tyield put(deleteCategorySuccess(isDeleted));\n// \t} catch (err) {\n// \t\tconsole.log(err);\n// \t}\n// }\n\n\nexport default function* rootSaga() {\n  yield all([takeEvery(actionTypes.GET_ALL_CUSTOMERS, getAllCustomers)]);\n}","map":{"version":3,"sources":["C:/Users/HP/Downloads/Gigs/Zozo/admin template/martfury-admin-react/store/customer/saga.js"],"names":["all","call","put","takeEvery","notification","actionTypes","actionGetAllCustomers","actionSuccessGetAllCustomers","axios","API","config","headers","Authorization","TOKEN","sagaFetchCustomers","url","ADMIN_BASE_URL","data","get","then","response","customer","catch","err","console","log","sagaUpgradeCustomer","BASE_URL","post","getAllCustomers","Customers","upgradeCustomer","payload","isUpgraded","customer_id","actionUpgradeCustomerSuccess","rootSaga","GET_ALL_CUSTOMERS"],"mappings":"AAEA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,SAAzB,QAA0C,oBAA1C;AACA,SAASC,YAAT,QAA6B,MAA7B;AAEA,SACCC,WADD,EAECC,qBAFD,EAGCC,4BAHD,QAIO,UAJP;AAKA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,YAApB,C,CAEA;;AAEA,MAAMC,MAAM,GAAG;AACdC,EAAAA,OAAO,EAAE;AACRC,IAAAA,aAAa,EAAE,WAAWH,GAAG,CAACI;AADtB;AADK,CAAf,C,CAMA;;AACA,MAAMC,kBAAkB,GAAG,YAAY;AACtC,QAAMC,GAAG,GAAGN,GAAG,CAACO,cAAJ,GAAqB,WAAjC;AAEA,QAAMC,IAAI,GAAG,MAAMT,KAAK,CACtBU,GADiB,CACbH,GADa,EACRL,MADQ,EAEjBS,IAFiB,CAEXC,QAAD,IAAc;AACnB,WAAOA,QAAQ,CAACH,IAAT,CAAcI,QAArB;AACA,GAJiB,EAKjBC,KALiB,CAKVC,GAAD,IAAS;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,GAAG,oBAAlB;AACA,GAPiB,CAAnB;AASA,SAAON,IAAP;AACA,CAbD,C,CAeA;;;AACA,MAAMS,mBAAmB,GAAG,YAAU;AACrC,QAAMX,GAAG,GAAGN,GAAG,CAACkB,QAAJ,GAAe,kBAA3B;AACA,QAAMV,IAAI,GAAG,MAAMT,KAAK,CAACoB,IAAN,GAAaT,IAAb,CAAkB,MAAI,CAExC,CAFkB,CAAnB;AAGA,CALD,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,UAAUU,eAAV,GAA4B;AAC3B,MAAI;AACH,UAAMC,SAAS,GAAG,MAAM7B,IAAI,CAACa,kBAAD,CAA5B;AACA,UAAMZ,GAAG,CAACK,4BAA4B,CAACuB,SAAD,CAA7B,CAAT;AACA,GAHD,CAGE,OAAOP,GAAP,EAAY;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA;AACD;;AAED,UAAUQ,eAAV,CAA0BC,OAA1B,EAAmC;AAClC,MAAI;AACH,UAAMC,UAAU,GAAG,MAAMhC,IAAI,CAACyB,mBAAD,EAAsBM,OAAO,CAACE,WAA9B,CAA7B;AACA,UAAMhC,GAAG,CAACiC,4BAA4B,CAACF,UAAD,CAA7B,CAAT;AACA,GAHD,CAGE,OAAOV,GAAP,EAAY;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA;AACD,C,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAe,UAAUa,QAAV,GAAqB;AACnC,QAAMpC,GAAG,CAAC,CAACG,SAAS,CAACE,WAAW,CAACgC,iBAAb,EAAgCR,eAAhC,CAAV,CAAD,CAAT;AACA","sourcesContent":["\r\n\r\nimport { all, call, put, takeEvery } from \"redux-saga/effects\";\r\nimport { notification } from \"antd\";\r\n\r\nimport {\r\n\tactionTypes,\r\n\tactionGetAllCustomers,\r\n\tactionSuccessGetAllCustomers,\r\n} from \"./action\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../API/Api\";\r\n\r\n// NEW\r\n\r\nconst config = {\r\n\theaders: {\r\n\t\tAuthorization: \"Bearer\" + API.TOKEN,\r\n\t},\r\n};\r\n\r\n//FETCH CATEGORIES\r\nconst sagaFetchCustomers = async () => {\r\n\tconst url = API.ADMIN_BASE_URL + \"/customer\";\r\n\r\n\tconst data = await axios\r\n\t\t.get(url, config)\r\n\t\t.then((response) => {\r\n\t\t\treturn response.data.customer;\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err + \"fetching Customers\");\r\n\t\t});\r\n\r\n\treturn data;\r\n};\r\n\r\n//UPGRADE CUSTOMER\r\nconst sagaUpgradeCustomer = async ()=>{\r\n\tconst url = API.BASE_URL + \"customer/upgrade\"\r\n\tconst data = await axios.post().then(()=>{\r\n\t\t\r\n\t})\r\n}\r\n\r\n// function* postCategory(payload) {\r\n// \ttry {\r\n// \t\tconst isCateAdded = yield call(sagaAddCategory, payload.category);\r\n// \t\tyield put(addCategorySuccess(isCateAdded));\r\n// \t} catch (err) {\r\n// \t\tconsole.log(err);\r\n// \t}\r\n// }\r\n\r\nfunction* getAllCustomers() {\r\n\ttry {\r\n\t\tconst Customers = yield call(sagaFetchCustomers);\r\n\t\tyield put(actionSuccessGetAllCustomers(Customers));\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n\r\nfunction* upgradeCustomer(payload) {\r\n\ttry {\r\n\t\tconst isUpgraded = yield call(sagaUpgradeCustomer, payload.customer_id);\r\n\t\tyield put(actionUpgradeCustomerSuccess(isUpgraded));\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n// function* deleteCategory(payload) {\r\n// \ttry {\r\n// \t\tconst isDeleted = yield call(sagaDeleteCategories, payload.id);\r\n// \t\tyield put(deleteCategorySuccess(isDeleted));\r\n// \t} catch (err) {\r\n// \t\tconsole.log(err);\r\n// \t}\r\n// }\r\n\r\nexport default function* rootSaga() {\r\n\tyield all([takeEvery(actionTypes.GET_ALL_CUSTOMERS, getAllCustomers)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}