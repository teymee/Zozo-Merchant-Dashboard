{"ast":null,"code":"import { all, call, put, takeEvery } from \"redux-saga/effects\";\nimport { notification } from \"antd\";\nimport { actionTypes, addCategory, addCategorySuccess, fetchCategorySuccess } from \"./action\";\nimport axios from \"axios\";\nimport { API } from \"../API/Api\"; // NEW\n// ADD CATEGORY\n\nconst sagaAddCategory = async cate => {\n  const url = API.ADMIN_BASE_URL + \"/category/create\";\n  const config = {\n    headers: {\n      Authorization: \"Bearer\" + API.TOKEN\n    }\n  };\n  const data = await axios.post(url, cate, config).then(response => {\n    return response.data;\n  }).catch(err => {\n    alert(err + 'adding to category');\n  });\n  return data;\n}; //FETCH CATEGORIES\n\n\nconst sagaFetchCategories = async () => {\n  const url = API.ADMIN_BASE_URL + \"/category\";\n  const config = {\n    headers: {\n      Authorization: \"Bearer\" + API.TOKEN\n    }\n  };\n  const data = await axios.get(url, config).then(response => {\n    return response.data.category;\n  }).catch(err => {\n    alert(err + 'fetching categories');\n  });\n  return data;\n}; //DELETECATEGORIES\n\n\nconst sagaDeleteCategories = async id => {\n  const url = API.ADMIN_BASE_URL + \"/category/id/\" + id;\n  const config = {\n    headers: {\n      Authorization: \"Bearer\" + API.TOKEN\n    }\n  };\n  const data = await axios.delete(url, config).then(response => {\n    return response.data.message;\n  }).catch(err => {\n    alert(err + 'deleting categories');\n  });\n  return data;\n};\n\nfunction* postCategory(payload) {\n  try {\n    const isCateAdded = yield call(sagaAddCategory, payload.category);\n    yield put(addCategorySuccess(isCateAdded));\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction* getCategory() {\n  try {\n    const categories = yield call(sagaFetchCategories);\n    yield put(fetchCategorySuccess(categories));\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction* deleteCategory(payload) {\n  try {\n    console.log(payload.id + \"saga\");\n    const isDeleted = yield call(sagaDeleteCategories, payload.id);\n    yield put(fetchSuccess(isDeleted));\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport default function* rootSaga() {\n  yield all([takeEvery(actionTypes.CATEGORY_POST, postCategory)]);\n  yield all([takeEvery(actionTypes.CATEGORY_GET, getCategory)]);\n  yield all([takeEvery(actionTypes.CATEGORY_DELETE, deleteCategory)]); // yield all([takeEvery(actionTypes.LOGOUT, logOutSaga)]);\n}","map":{"version":3,"sources":["C:/Users/HP/Downloads/Gigs/Zozo/admin template/martfury-admin-react/store/category/saga.js"],"names":["all","call","put","takeEvery","notification","actionTypes","addCategory","addCategorySuccess","fetchCategorySuccess","axios","API","sagaAddCategory","cate","url","ADMIN_BASE_URL","config","headers","Authorization","TOKEN","data","post","then","response","catch","err","alert","sagaFetchCategories","get","category","sagaDeleteCategories","id","delete","message","postCategory","payload","isCateAdded","console","log","getCategory","categories","deleteCategory","isDeleted","fetchSuccess","rootSaga","CATEGORY_POST","CATEGORY_GET","CATEGORY_DELETE"],"mappings":"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","sourcesContent":["import { all, call, put, takeEvery } from \"redux-saga/effects\";\r\nimport { notification } from \"antd\";\r\n\r\nimport { actionTypes, addCategory, addCategorySuccess, fetchCategorySuccess } from \"./action\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../API/Api\";\r\n\r\n// NEW\r\n// ADD CATEGORY\r\nconst  sagaAddCategory = async  (cate) => {\r\n\tconst url = API.ADMIN_BASE_URL + \"/category/create\";\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer\" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\r\n\r\n\tconst data =  await axios\r\n\t\t.post(url, cate, config)\r\n\t\t.then((response) => {\r\n\t\t\treturn response.data;\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\talert(err + 'adding to category');\r\n\t\t});\r\n\r\n            return data\r\n};\r\n\r\n//FETCH CATEGORIES\r\nconst sagaFetchCategories= async ()=>{\r\n      const url = API.ADMIN_BASE_URL + \"/category\";\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer\" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\r\n     const data = await axios.get(url, config).then((response)=>{\r\n\r\n            return response.data.category\r\n\r\n      }).catch((err) => {\r\n            alert(err + 'fetching categories');\r\n      });\r\n\r\n       return data\r\n}\r\n\r\n//DELETECATEGORIES\r\nconst sagaDeleteCategories= async (id)=>{\r\n      const url = API.ADMIN_BASE_URL + \"/category/id/\" + id;\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\tAuthorization: \"Bearer\" + API.TOKEN,\r\n\t\t},\r\n\t};\r\n\r\n     const data = await axios.delete(url, config).then((response)=>{\r\n\r\n            return response.data.message\r\n\r\n      }).catch((err) => {\r\n            alert(err + 'deleting categories');\r\n      });\r\n\r\n       return data\r\n}\r\n\r\n\r\n\r\nfunction* postCategory(payload) {\r\n     \r\n\ttry {\r\n\t\tconst isCateAdded = yield call(sagaAddCategory, payload.category);\r\n            yield put(addCategorySuccess(isCateAdded))\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n}\r\n\r\nfunction* getCategory(){\r\n      try{\r\n            const categories = yield call(sagaFetchCategories)\r\n            yield put(fetchCategorySuccess(categories))\r\n          \r\n      }catch (err){\r\n            console.log(err)\r\n      }\r\n}\r\n\r\nfunction* deleteCategory(payload){\r\n      try{\r\nconsole.log(payload.id + \"saga\")\r\n            const isDeleted = yield call(sagaDeleteCategories, payload.id)\r\n            yield put(fetchSuccess(isDeleted ))\r\n          \r\n      }catch (err){\r\n            console.log(err)\r\n      }\r\n}\r\n\r\n\r\n\r\n\r\nexport default function* rootSaga() {\r\n\tyield all([takeEvery(actionTypes.CATEGORY_POST, postCategory)]);\r\n      yield all([takeEvery(actionTypes.CATEGORY_GET, getCategory)]);\r\n\tyield all([takeEvery(actionTypes.CATEGORY_DELETE, deleteCategory)]);\r\n\t// yield all([takeEvery(actionTypes.LOGOUT, logOutSaga)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}